define(["jquery","lodash","backbone","vm","events","modelbinder","validation","views/baseField","text!templates/form-layouts/horizontal.html"],function(e,t,n,r,i,s,o,u,a){var f=u.extend({_modelBinder:undefined,template:t.template(a),initialize:function(){u.prototype.initialize.call(this),this._divcontrolgroup=0;if(typeof this.options.formSchema=="undefined")throw"formSchema is not in the options parameters";this.el="#"+this.options.formSchema.name,e(this.el).addClass("form-horizontal")},render:function(){var r=this,i=u.prototype.render,s="",o;t.each(this.options.formSchema.fields,function(e,n,a){if(!u.prototype.checkShowOnMode.call(r,e))return"";typeof e.description!="undefined"&&t.indexOf(r.notRenderLabel,e.type.toLowerCase())===-1&&(s+='<div class="control-group">',this._divcontrolgroup++,o=typeof r.options.formSchema.validation[e.name]!="undefined"&&r.options.formSchema.validation[e.name].required?!0:!1,s+=r.renderLabel(e,o,"control-label"),s+='<div class="controls">'),s+=i.call(r,e),typeof e.description!="undefined"&&t.indexOf(r.notRenderLabel,e.type.toLowerCase())===-1&&(s+="</div></div>",this._divcontrolgroup--)}),s+=u.prototype.closeOpenDiv.call(this),e(this.el).html(this.template(t.extend({html:s},this.options.formSchema))),r._modelBinder.bind(r.model,r.el),n.Validation.bind(r,{forceUpdate:!0})}});return f});