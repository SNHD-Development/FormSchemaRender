define(["jquery","lodash","backbone","vm","utils","events","modelbinder","validation","views/baseField","text!templates/form-layouts/default.html"],function(e,t,n,r,i,s,o,u,a,f){var l=a.extend({_modelBinder:undefined,template:t.template(f),initialize:function(){a.prototype.initialize.call(this);if(typeof this.options.formSchema=="undefined")throw"formSchema is not in the options parameters";this.el="#"+this.options.formSchema.name},render:function(){var r=this,s,o=a.prototype.render,u="";t.each(this.options.formSchema.fields,function(e,n,f){var l="";if(!a.prototype.checkShowOnMode.call(r,e,r.options.mode,r.options.formData.status))return"";typeof e.description!="undefined"&&t.indexOf(r.notRenderLabel,e.type.toLowerCase())===-1&&(s=i.checkRequireFields(e,r.options.formSchema.validation),l+=r.renderLabel(e,s)),l+=o.call(r,e),e.options.visibleon?(l='<div class="options-visible-on-'+e.name+'" style="display:none">'+l+"</div>",a.prototype.setupVisibleOn.call(r,e,l)):u+=l}),u+=a.prototype.closeOpenDiv.call(this),e(this.el).html(this.template(t.extend({html:u},this.options.formSchema))),r._modelBinder.bind(r.model,r.el),n.Validation.bind(r,{forceUpdate:!0})}});return l});