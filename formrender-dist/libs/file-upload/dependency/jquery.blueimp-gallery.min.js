!function(e){"function"==typeof define&&define.amd?define(["./blueimp-helper"],e):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=e(window.blueimp.helper||window.jQuery))}(function(e){function t(e,n){return e&&e.length&&void 0!==document.body.style.maxHeight?this&&this.options===t.prototype.options?(this.list=e,this.num=e.length,this.initOptions(n),this.initialize(),void 0):new t(e,n):!1}return e.extend(t.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},support:function(e){var t,n,r,i={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},s={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}};for(t in s)if(s.hasOwnProperty(t)&&void 0!==e.style[t]){n=s[t],n.name=t,i.transition=n;break}return document.body.appendChild(e),n&&(t=n.name.slice(0,-9)+"ransform",void 0!==e.style[t]&&(e.style[t]="translateZ(0)",r=window.getComputedStyle(e).getPropertyValue(n.prefix+"transform"),i.transform={prefix:n.prefix,name:t,translate:!0,translateZ:r&&"none"!==r})),void 0!==e.style.backgroundSize&&(e.style.backgroundSize="contain",i.backgroundSize={contain:"contain"===window.getComputedStyle(e).getPropertyValue("background-size")}),document.body.removeChild(e),i}(document.createElement("div")),initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.options.onopen&&this.options.onopen.call(this),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play(),void 0)},slide:function(e,t){window.clearTimeout(this.timeout);var n,r,i,s=this.index;if(s!==e&&1!==this.num){if(t||(t=this.options.transitionSpeed),this.support.transition){for(this.options.continuous||(e=this.circle(e)),n=Math.abs(s-e)/(s-e),this.options.continuous&&(r=n,n=-this.positions[this.circle(e)]/this.slideWidth,n!==r&&(e=-n*this.num+e)),i=Math.abs(s-e)-1;i;)i-=1,this.move(this.circle((e>s?e:s)-i-1),this.slideWidth*n,0);e=this.circle(e),this.move(s,this.slideWidth*n,t),this.move(e,0,t),this.options.continuous&&this.move(this.circle(e-n),-(this.slideWidth*n),0)}else e=this.circle(e),this.animate(s*-this.slideWidth,e*-this.slideWidth,t);this.onslide(e)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(e){window.clearTimeout(this.timeout),this.interval=e||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(this.slide,[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(e){var t;for(this.list=this.list.concat(e),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),t=this.num-e.length;t<this.num;t+=1)this.addSlide(t),this.positionSlide(t);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},close:function(){var e=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(e.displayClass).removeClass(e.singleClass).removeClass(e.leftEdgeClass).removeClass(e.rightEdgeClass),e.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclose&&this.options.onclose.call(this)},circle:function(e){return(this.num+e%this.num)%this.num},move:function(e,t,n){this.translateX(e,t,n),this.positions[e]=t},translate:function(e,t,n,r){var i=this.slides[e].style,s=this.support.transition,o=this.support.transform;i[s.name+"Duration"]=r+"ms",i[o.name]="translate("+t+"px, "+n+"px)"+(o.translateZ?" translateZ(0)":"")},translateX:function(e,t,n){this.translate(e,t,0,n)},translateY:function(e,t,n){this.translate(e,0,t,n)},animate:function(e,t,n){if(!n)return this.slidesContainer[0].style.left=t+"px",void 0;var r=this,i=(new Date).getTime(),s=window.setInterval(function(){var u=(new Date).getTime()-i;return u>n?(r.slidesContainer[0].style.left=t+"px",r.ontransitionend(),window.clearInterval(s),void 0):(r.slidesContainer[0].style.left=(t-e)*(Math.floor(100*(u/n))/100)+e+"px",void 0)},4)},preventDefault:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},onresize:function(){this.initSlides(!0)},onmousedown:function(e){e.which&&1===e.which&&(e.preventDefault(),(e.originalEvent||e).touches=[{pageX:e.pageX,pageY:e.pageY}],this.ontouchstart(e))},onmousemove:function(e){this.touchStart&&((e.originalEvent||e).touches=[{pageX:e.pageX,pageY:e.pageY}],this.ontouchmove(e))},onmouseup:function(e){this.touchStart&&(this.ontouchend(e),delete this.touchStart)},onmouseout:function(t){if(this.touchStart){var n=t.target,r=t.relatedTarget;(!r||r!==n&&!e.contains(n,r))&&this.onmouseup(t)}},ontouchstart:function(e){var t=(e.originalEvent||e).touches[0];this.touchStart={x:t.pageX,y:t.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(e){var t,n,r=(e.originalEvent||e).touches[0],i=(e.originalEvent||e).scale,s=this.index;if(!(r.length>1||i&&1!==i))if(this.options.disableScroll&&e.preventDefault(),this.touchDelta={x:r.pageX-this.touchStart.x,y:r.pageY-this.touchStart.y},t=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(t)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(s,this.touchDelta.y+this.positions[s],0);else for(e.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?n=[this.circle(s+1),s,this.circle(s-1)]:(this.touchDelta.x=t/=!s&&t>0||s===this.num-1&&0>t?Math.abs(t)/this.slideWidth+1:1,n=[s],s&&n.push(s-1),s<this.num-1&&n.unshift(s+1));n.length;)s=n.pop(),this.translateX(s,t+this.positions[s],0)},ontouchend:function(){var e,t,n,r,i,s=this.index,o=this.options.transitionSpeed,u=this.slideWidth,a=Number(Date.now()-this.touchStart.time)<250,f=a&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>u/2,l=!s&&this.touchDelta.x>0||s===this.num-1&&this.touchDelta.x<0,c=!f&&this.options.closeOnSwipeUpOrDown&&(a&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(l=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?c?this.close():this.translateY(s,0,o):f&&!l?(t=s+e,n=s-e,r=u*e,i=-u*e,this.options.continuous?(this.move(this.circle(t),r,0),this.move(this.circle(s-2*e),i,0)):t>=0&&t<this.num&&this.move(t,r,0),this.move(s,this.positions[s]+r,o),this.move(this.circle(n),this.positions[this.circle(n)]+r,o),s=this.circle(n),this.onslide(s)):this.options.continuous?(this.move(this.circle(s-1),-u,o),this.move(s,0,o),this.move(this.circle(s+1),u,o)):(s&&this.move(s-1,-u,o),this.move(s,0,o),s<this.num-1&&this.move(s+1,u,o))},ontransitionend:function(e){var t=this.slides[this.index];e&&t!==e.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,t]))},oncomplete:function(t){var n,r=t.target||t.srcElement,i=r&&r.parentNode;r&&i&&(n=this.getNodeIndex(i),e(i).removeClass(this.options.slideLoadingClass),"error"===t.type?(e(i).addClass(this.options.slideErrorClass),this.elements[n]=3):this.elements[n]=2,r.clientHeight>this.container[0].clientHeight&&(r.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===i&&this.play(),this.setTimeout(this.options.onslidecomplete,[n,i]))},onload:function(e){this.oncomplete(e)},onerror:function(e){this.oncomplete(e)},onkeydown:function(e){switch(e.which||e.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(e),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(e),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(e),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(e),this.next())}},handleClick:function(t){var n=this.options,r=t.target||t.srcElement,i=r.parentNode,s=function(t){return e(r).hasClass(t)||e(i).hasClass(t)};i===this.slidesContainer[0]?(this.preventDefault(t),n.closeOnSlideClick?this.close():this.toggleControls()):i.parentNode&&i.parentNode===this.slidesContainer[0]?(this.preventDefault(t),this.toggleControls()):s(n.toggleClass)?(this.preventDefault(t),this.toggleControls()):s(n.prevClass)?(this.preventDefault(t),this.prev()):s(n.nextClass)?(this.preventDefault(t),this.next()):s(n.closeClass)?(this.preventDefault(t),this.close()):s(n.playPauseClass)&&(this.preventDefault(t),this.toggleSlideshow())},onclick:function(e){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?(delete this.touchDelta,void 0):this.handleClick(e)},updateEdgeClasses:function(e){e?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),e===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(e){this.options.continuous||this.updateEdgeClasses(e),this.loadElements(e),this.options.unloadElements&&this.unloadElements(e),this.setTitle(e)},onslide:function(e){this.index=e,this.handleSlide(e),this.setTimeout(this.options.onslide,[e,this.slides[e]])},setTitle:function(e){var t=this.slides[e].firstChild.title,n=this.titleElement;n.length&&(this.titleElement.empty(),t&&n[0].appendChild(document.createTextNode(t)))},setTimeout:function(e,t,n){var r=this;return e&&window.setTimeout(function(){e.apply(r,t||[])},n||0)},imageFactory:function(t,n){var r,i,s,o=this,u=this.imagePrototype.cloneNode(!1),a=t,f=this.options.stretchImages&&this.support.backgroundSize&&this.support.backgroundSize.contain,l=function(t){if(!r){if(t={type:t.type,target:i},!i.parentNode)return o.setTimeout(l,[t]);r=!0,e(u).off("load error",l),f&&"load"===t.type&&(i.style.background='url("'+a+'") center no-repeat',i.style.backgroundSize="contain"),n(t)}};return"string"!=typeof a&&(a=this.getItemProperty(t,this.options.urlProperty),s=this.getItemProperty(t,this.options.titleProperty)),f?i=this.elementPrototype.cloneNode(!1):(i=u,u.draggable=!1),s&&(i.title=s),e(u).on("load error",l),u.src=a,i},createElement:function(t,n){var r=t&&this.getItemProperty(t,this.options.typeProperty),i=r&&this[r.split("/")[0]+"Factory"]||this.imageFactory,s=t&&i.call(this,t,n);return s||(s=this.elementPrototype.cloneNode(!1),this.setTimeout(n,[{type:"error",target:s}])),e(s).addClass(this.options.slideContentClass),s},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=e(this.slides[t]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[t]=1,e(this.slides[t]).addClass(this.options.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(e){var t,n=Math.min(this.num,2*this.options.preloadRange+1),r=e;for(t=0;n>t;t+=1)r+=t*(0===t%2?-1:1),r=this.circle(r),this.loadElement(r)},unloadElements:function(e){var t,n,r;for(t in this.elements)this.elements.hasOwnProperty(t)&&(r=Math.abs(e-t),r>this.options.preloadRange&&r+this.options.preloadRange<this.num&&(n=this.slides[t],n.removeChild(n.firstChild),delete this.elements[t]))},addSlide:function(e){var t=this.slidePrototype.cloneNode(!1);t.setAttribute("data-index",e),this.slidesContainer[0].appendChild(t),this.slides.push(t)},positionSlide:function(e){var t=this.slides[e];t.style.width=this.slideWidth+"px",this.support.transition&&(t.style.left=e*-this.slideWidth+"px",this.move(e,this.index>e?-this.slideWidth:this.index<e?this.slideWidth:0,0))},initSlides:function(t){var n,r;for(t||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),e(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,n=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",n&&this.resetSlides(),r=0;r<this.num;r+=1)n&&this.addSlide(r),this.positionSlide(r);this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transition||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var e=this.options.controlsClass;this.container.hasClass(e)?this.container.removeClass(e):this.container.addClass(e)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(e){return parseInt(e.getAttribute("data-index"),10)},getNestedProperty:function(e,t){return t.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(t,n,r,i,s){var o=s||n||r||i&&parseInt(i,10);t&&e&&(e=e[o])}),e},getItemProperty:function(e,t){return e[t]||e.getAttribute&&e.getAttribute("data-"+t)||this.getNestedProperty(e,t)},initStartIndex:function(){var e,t=this.options.index,n=this.options.urlProperty;if(t&&"number"!=typeof t)for(e=0;e<this.num;e+=1)if(this.list[e]===t||this.getItemProperty(this.list[e],n)===this.getItemProperty(t,n)){t=e;break}this.index=this.circle(parseInt(t,10)||0)},initEventListeners:function(){var t=this,n=this.slidesContainer,r=function(e){var n=t.support.transition&&t.support.transition.end===e.type?"transitionend":e.type;t["on"+n](e)};e(window).on("resize",r),e(document.body).on("keydown",r),this.container.on("click",r),this.support.touch?n.on("touchstart touchmove touchend",r):this.options.emulateTouchEvents&&this.support.transition&&n.on("mousedown mousemove mouseup mouseout",r),this.support.transition&&n.on(this.support.transition.end,r),this.proxyListener=r},destroyEventListeners:function(){var t=this.slidesContainer,n=this.proxyListener;e(window).off("resize",n),e(document.body).off("keydown",n),this.container.off("click",n),this.support.touch?t.off("touchstart touchmove touchend",n):this.options.emulateTouchEvents&&this.support.transition&&t.off("mousedown mousemove mouseup mouseout",n),this.support.transition&&t.off(this.support.transition.end,n)},initWidget:function(){return this.container=e(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),1===this.num&&this.container.addClass(this.options.singleClass),this.container[0].style.display="block",this.initSlides(),this.container.addClass(this.options.displayClass),void 0):!1):!1},initOptions:function(t){this.options=e.extend({},this.options),(t&&t.carousel||this.options.carousel&&(!t||t.carousel!==!1))&&e.extend(this.options,this.carouselOptions),e.extend(this.options,t),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),t}),function(e){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){e.extend(t.prototype.options,{fullScreen:!1});var n=t.prototype.initialize,r=t.prototype.close;return e.extend(t.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},requestFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},initialize:function(){n.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),r.call(this)}}),t}),function(e){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){e.extend(t.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var n=t.prototype.initSlides,r=t.prototype.addSlide,i=t.prototype.resetSlides,s=t.prototype.handleClick,o=t.prototype.handleSlide,u=t.prototype.close;return e.extend(t.prototype,{createIndicator:function(t){var n,r,i=this.indicatorPrototype.cloneNode(!1),s=this.getItemProperty(t,this.options.titleProperty),o=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(r=t.getElementsByTagName&&e(t).find("img")[0],r?n=r.src:o&&(n=this.getItemProperty(t,o)),n&&(i.style.backgroundImage='url("'+n+'")')),s&&(i.title=s),i},addIndicator:function(e){if(this.indicatorContainer.length){var t=this.createIndicator(this.list[e]);t.setAttribute("data-index",e),this.indicatorContainer[0].appendChild(t),this.indicators.push(t)}},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=e(this.indicators[t]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(e){e||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),n.call(this,e)},addSlide:function(e){r.call(this,e),this.addIndicator(e)},resetSlides:function(){i.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(e){var t=e.target||e.srcElement,n=t.parentNode;if(n===this.indicatorContainer[0])this.preventDefault(e),this.slide(this.getNodeIndex(t));else{if(n.parentNode!==this.indicatorContainer[0])return s.call(this,e);this.preventDefault(e),this.slide(this.getNodeIndex(n))}},handleSlide:function(e){o.call(this,e),this.setActiveIndicator(e)},close:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),u.call(this)}}),t}),function(e){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],e):e(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(e,t){return e.extend(t.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"}),t.prototype.videoFactory=function(t,n){var r,i,s,o,u,a=this,f=this.options,l=this.elementPrototype.cloneNode(!1),c=e(l),h=[{type:"error",target:l}],p=document.createElement("video"),d=this.getItemProperty(t,f.urlProperty),v=this.getItemProperty(t,f.typeProperty),m=this.getItemProperty(t,f.titleProperty),g=this.getItemProperty(t,f.videoPosterProperty),y=this.getItemProperty(t,f.videoSourcesProperty);if(c.addClass(f.videoContentClass),m&&(l.title=m),p.canPlayType)if(d&&v&&p.canPlayType(v))p.src=d;else if(y)for("string"==typeof y&&(y=e.parseJSON(y));y&&y.length;)if(i=y.shift(),d=this.getItemProperty(i,f.urlProperty),v=this.getItemProperty(i,f.typeProperty),d&&v&&p.canPlayType(v)){p.src=d;break}return g&&(p.setAttribute("poster",g),r=this.imagePrototype.cloneNode(!1),e(r).addClass(f.toggleClass),r.src=g,r.draggable=!1,l.appendChild(r)),s=document.createElement("a"),s.setAttribute("target","_blank"),s.setAttribute("download",m),s.href=d,p.src&&(p.controls=!0,e(p).on("error",function(){a.setTimeout(n,h)}).on("pause",function(){o=!1,c.removeClass(a.options.videoLoadingClass).removeClass(a.options.videoPlayingClass),u&&a.container.addClass(a.options.controlsClass),a.interval&&a.play()}).on("playing",function(){o=!1,c.removeClass(a.options.videoLoadingClass).addClass(a.options.videoPlayingClass),a.container.hasClass(a.options.controlsClass)?(u=!0,a.container.removeClass(a.options.controlsClass)):u=!1}).on("play",function(){window.clearTimeout(a.timeout),o=!0,c.addClass(a.options.videoLoadingClass)}),e(s).on("click",function(e){e.preventDefault(),o?p.pause():p.play()}),l.appendChild(p)),l.appendChild(s),this.setTimeout(n,[{type:"load",target:l}]),l},t}),function(e){"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery.js"],e):e(window.jQuery,window.blueimp.Gallery)}(function(e,t){e(document.body).on("click","[data-gallery]",function(n){var r=e(this).data("gallery"),i=e(r),s=i.length&&i||e(t.prototype.options.container),o=e.extend(s.data(),{container:s[0],index:this,event:n,onopen:function(){s.data("gallery",this).trigger("open",arguments)},onslide:function(){s.trigger("slide",arguments)},onslideend:function(){s.trigger("slideend",arguments)},onslidecomplete:function(){s.trigger("slidecomplete",arguments)},onclose:function(){s.trigger("close").removeData("gallery")}}),u=e('[data-gallery="'+r+'"]');return o.filter&&(u=u.filter(o.filter)),new t(u,o)})});