!function(t){t.fn.stupidtable=function(r){return this.each(function(){var n=t(this);r=r||{},r=t.extend({},t.fn.stupidtable.default_sort_fns,r),n.on("click.stupidtable","th",function(){var e=t(this),a=0,s=t.fn.stupidtable.dir;n.find("th").slice(0,e.index()).each(function(){var r=t(this).attr("colspan")||1;a+=parseInt(r,10)});var i=e.data("sort-default")||s.ASC;e.data("sort-dir")&&(i=e.data("sort-dir")===s.ASC?s.DESC:s.ASC);var o=e.data("sort")||null;null!==o&&(n.trigger("beforetablesort",{column:a,direction:i}),n.css("display"),setTimeout(function(){var d=[],u=r[o],c=n.children("tbody").children("tr");c.each(function(r,n){var e=t(n).children().eq(a),s=e.data("sort-value"),e=void 0!==s?s:e.text();d.push([e,n])}),d.sort(function(t,r){return u(t[0],r[0])}),i!=s.ASC&&d.reverse(),c=t.map(d,function(t){return t[1]}),n.children("tbody").append(c),n.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc"),e.data("sort-dir",i).addClass("sorting-"+i),n.trigger("aftertablesort",{column:a,direction:i}),n.css("display")},10))})})},t.fn.stupidtable.dir={ASC:"asc",DESC:"desc"},t.fn.stupidtable.default_sort_fns={int:function(t,r){return parseInt(t,10)-parseInt(r,10)},float:function(t,r){return parseFloat(t)-parseFloat(r)},string:function(t,r){return t<r?-1:t>r?1:0},"string-ins":function(t,r){return t=t.toLowerCase(),r=r.toLowerCase(),t<r?-1:t>r?1:0}}}(jQuery);