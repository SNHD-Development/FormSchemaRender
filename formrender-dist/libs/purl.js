/*
 * Purl (A JavaScript URL parser) v2.3.1
 * Developed and maintanined by Mark Perkins, mark@allmarkedup.com
 * Source repository: https://github.com/allmarkedup/jQuery-URL-Parser
 * Licensed under an MIT-style license. See https://github.com/allmarkedup/jQuery-URL-Parser/blob/master/LICENSE for details.
 */

(function(e){typeof define=="function"&&define.amd?define(e):window.purl=e()})(function(){function s(e,n){var i=decodeURI(e),s=r[n||!1?"strict":"loose"].exec(i),o={attr:{},param:{},seg:{}},u=14;while(u--)o.attr[t[u]]=s[u]||"";return o.param.query=l(o.attr.query),o.param.fragment=l(o.attr.fragment),o.seg.path=o.attr.path.replace(/^\/+|\/+$/g,"").split("/"),o.seg.fragment=o.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),o.attr.base=o.attr.host?(o.attr.protocol?o.attr.protocol+"://"+o.attr.host:o.attr.host)+(o.attr.port?":"+o.attr.port:""):"",o}function o(t){var n=t.tagName;return typeof n!="undefined"?e[n.toLowerCase()]:n}function u(e,t){if(e[t].length===0)return e[t]={};var n={};for(var r in e[t])n[r]=e[t][r];return e[t]=n,n}function a(e,t,n,r){var s=e.shift();if(!s)d(t[n])?t[n].push(r):"object"==typeof t[n]?t[n]=r:"undefined"==typeof t[n]?t[n]=r:t[n]=[t[n],r];else{var o=t[n]=t[n]||[];"]"==s?d(o)?""!==r&&o.push(r):"object"==typeof o?o[v(o).length]=r:o=t[n]=[t[n],r]:~s.indexOf("]")?(s=s.substr(0,s.length-1),!i.test(s)&&d(o)&&(o=u(t,n)),a(e,o,s,r)):(!i.test(s)&&d(o)&&(o=u(t,n)),a(e,o,s,r))}}function f(e,t,n){if(~t.indexOf("]")){var r=t.split("[");a(r,e,"base",n)}else{if(!i.test(t)&&d(e.base)){var s={};for(var o in e.base)s[o]=e.base[o];e.base=s}t!==""&&c(e.base,t,n)}return e}function l(e){return p(String(e).split(/&|;/),function(e,t){try{t=decodeURIComponent(t.replace(/\+/g," "))}catch(n){}var r=t.indexOf("="),i=h(t),s=t.substr(0,i||r),o=t.substr(i||r,t.length);return o=o.substr(o.indexOf("=")+1,o.length),s===""&&(s=t,o=""),f(e,s,o)},{base:{}}).base}function c(e,t,n){var r=e[t];typeof r=="undefined"?e[t]=n:d(r)?r.push(n):e[t]=[r,n]}function h(e){var t=e.length,n,r;for(var i=0;i<t;++i){r=e[i],"]"==r&&(n=!1),"["==r&&(n=!0);if("="==r&&!n)return i}}function p(e,t){var n=0,r=e.length>>0,i=arguments[2];while(n<r)n in e&&(i=t.call(undefined,i,e[n],n,e)),++n;return i}function d(e){return Object.prototype.toString.call(e)==="[object Array]"}function v(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}function m(e,t){return arguments.length===1&&e===!0&&(t=!0,e=undefined),t=t||!1,e=e||window.location.toString(),{data:s(e,t),attr:function(e){return e=n[e]||e,typeof e!="undefined"?this.data.attr[e]:this.data.attr},param:function(e){return typeof e!="undefined"?this.data.param.query[e]:this.data.param.query},fparam:function(e){return typeof e!="undefined"?this.data.param.fragment[e]:this.data.param.fragment},segment:function(e){return typeof e=="undefined"?this.data.seg.path:(e=e<0?this.data.seg.path.length+e:e-1,this.data.seg.path[e])},fsegment:function(e){return typeof e=="undefined"?this.data.seg.fragment:(e=e<0?this.data.seg.fragment.length+e:e-1,this.data.seg.fragment[e])}}}var e={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},t=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],n={anchor:"fragment"},r={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},i=/^[0-9]+$/;return m.jQuery=function(e){e!=null&&(e.fn.url=function(t){var n="";return this.length&&(n=e(this).attr(o(this[0]))||""),m(n,t)},e.url=m)},m.jQuery(window.jQuery),m});