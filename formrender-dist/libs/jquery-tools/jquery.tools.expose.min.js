/*!
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * toolbox/toolbox.expose.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */

!function(o){function n(){if(o.browser.msie){var n=o(document).height(),e=o(window).height();return[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,n-e<20?e:n]}return[o(document).width(),o(document).height()]}function e(n){if(n)return n.call(o.mask)}o.tools=o.tools||{version:"v1.2.7"};var t;t=o.tools.expose={conf:{maskId:"exposeMask",loadSpeed:"slow",closeSpeed:"fast",closeOnClick:!0,closeOnEsc:!0,zIndex:9998,opacity:.8,startOpacity:0,color:"#fff",onLoad:null,onClose:null}};var s,i,c,a,d;o.mask={load:function(l,r){if(c)return this;"string"==typeof l&&(l={color:l}),l=l||a,a=l=o.extend(o.extend({},t.conf),l),s=o("#"+l.maskId),s.length||(s=o("<div/>").attr("id",l.maskId),o("body").append(s));var f=n();return s.css({position:"absolute",top:0,left:0,width:f[0],height:f[1],display:"none",opacity:l.startOpacity,zIndex:l.zIndex}),l.color&&s.css("backgroundColor",l.color),e(l.onBeforeLoad)===!1?this:(l.closeOnEsc&&o(document).on("keydown.mask",function(n){27==n.keyCode&&o.mask.close(n)}),l.closeOnClick&&s.on("click.mask",function(n){o.mask.close(n)}),o(window).on("resize.mask",function(){o.mask.fit()}),r&&r.length&&(d=r.eq(0).css("zIndex"),o.each(r,function(){var n=o(this);/relative|absolute|fixed/i.test(n.css("position"))||n.css("position","relative")}),i=r.css({zIndex:Math.max(l.zIndex+1,"auto"==d?0:d)})),s.css({display:"block"}).fadeTo(l.loadSpeed,l.opacity,function(){o.mask.fit(),e(l.onLoad),c="full"}),c=!0,this)},close:function(){if(c){if(e(a.onBeforeClose)===!1)return this;s.fadeOut(a.closeSpeed,function(){e(a.onClose),i&&i.css({zIndex:d}),c=!1}),o(document).off("keydown.mask"),s.off("click.mask"),o(window).off("resize.mask")}return this},fit:function(){if(c){var o=n();s.css({width:o[0],height:o[1]})}},getMask:function(){return s},isLoaded:function(o){return o?"full"==c:c},getConf:function(){return a},getExposed:function(){return i}},o.fn.mask=function(n){return o.mask.load(n),this},o.fn.expose=function(n){return o.mask.load(n,this),this}}(jQuery);